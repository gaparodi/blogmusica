{% extends 'musica/base.html' %}
{% block title %}Lanzamientos{% endblock %}

{% block content %}
<div class="container my-4">
  <h1 class="mb-4">Lanzamientos</h1>
  <div class="list-group">
    {% for lanzamiento in lanzamientos %}
      {% if lanzamiento.pk %}
        <a href="{% url 'musica:lanzamiento_detalle' lanzamiento.pk %}"
           class="list-group-item list-group-item-action py-3 d-flex align-items-start">
          {% if lanzamiento.artista and lanzamiento.artista.imagen %}
            <img src="{{ lanzamiento.artista.imagen.url }}"
                 alt="{{ lanzamiento.artista.nombre }}"
                 class="img-thumbnail me-3 flex-shrink-0"
                 style="width:120px; height:auto;">
          {% else %}
            <div class="bg-secondary me-3" style="width:120px; height:80px;"></div>
          {% endif %}
          <div class="flex-grow-1">
            <h5 class="mb-1">{{ lanzamiento.titulo }}</h5>
            {% if lanzamiento.fecha_lanzamiento %}
              <small class="text-muted">{{ lanzamiento.fecha_lanzamiento|date:"d/m/Y" }}</small>
            {% endif %}
          </div>
        </a>
      {% else %}
        <div class="list-group-item text-muted">Lanzamiento sin ID</div>
      {% endif %}
    {% empty %}
      <p class="text-muted">No hay lanzamientos cargados.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}